{"version":3,"sources":["sebraeleme.resources.src.js"],"names":["global","factory","exports","module","define","amd","self","tinybind","OPTIONS","EXTENSIONS","PRIMITIVE","KEYPATH","TEXT","BINDING","QUOTED_STR","parseType","string","type","value","test","slice","undefined","isNaN","Number","parseTemplate","template","delimiters","tokens","length","index","lastIndex","open","close","indexOf","push","substring","lastToken","trim","binders","formatters","adapters","_prefix","_fullPrefix","prefix","templateDelimiters","rootInterface","preloadData","handler","context","ev","binding","call","view","models","fallbackBinder","el","setAttribute","removeAttribute","configure","options","_this","Object","keys","forEach","option","key","isObject","obj","error","message","Error","interfaces","Observer","updateOptions","tokenize","keypath","root","current","i","path","chr","charAt","callback","objectPath","parse","getRootObject","target","realize","set","_proto","prototype","substr","pop","unreached","prev","token","get","splice","sync","next","oldValue","newValue","Function","Array","setValue","active","action","unobserve","rootProp","$parent","getInputValue","checked","results","selected","FORMATTER_ARGS","FORMATTER_SPLIT","Binding","binder","arg","formatterObservers","model","observe","parseTarget","observer","parseFormatterArguments","args","formatterIndex","map","_ref","ai","formattedValue","_this2","reduce","result","declaration","match","id","shift","formatter","processedArgs","read","apply","concat","eventHandler","fn","function","routineFn","routine","publish","_this3","reduceRight","split","getValue","bind","hasOwnProperty","unbind","_this4","fi","update","textBinder","node","data","DECLARATION_SPLIT","parseNode","block","nodeType","text","document","createTextNode","parentNode","insertBefore","buildBinding","removeChild","traverse","_i","childNodes","bindingComparator","a","b","aPriority","priority","bPriority","trimStr","str","View","els","jquery","build","pipes","bindings","elements","len","sort","bindingPrefix","nodeName","attributes","bindInfos","starBinders","identifier","attribute","name","k","attr","_i2","bindInfo","publishes","ARRAY_METHODS","adapter","counter","weakmap","weakReference","defineProperty","__rv","callbacks","cleanupWeakReference","refId","pointers","stubFunction","original","_len","arguments","_key","response","observeArray","unobserveArray","idx","desc","getOwnPropertyDescriptor","configurable","enumerable","_callbacks","cb","getString","toString","times","n","createView","anchorEl","cloneNode","marker","removeEventListener","addEventListener","createComment","iterated","collection","modelName","indexProp","getAttribute","previous","nextSibling","matchIndex","nextView","nextIndex","_class","elClass","className","replace","textContent","html","innerHTML","show","style","display","hide","enabled","disabled","isRadio","tagName","event","if","attached","bound","nested","watch","not","negate","_defineProperties","props","descriptor","writable","_createClass","Constructor","protoProps","staticProps","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","_setPrototypeOf","p","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_construct","Parent","Class","instance","_isNativeFunction","_wrapNativeSuper","_cache","Map","TypeError","has","Wrapper","Component","_HTMLElement","connectedCallback","nodes","__templateEl","content","__tinybindView","firstChild","appendChild","disconnectedCallback","attributeChangedCallback","old","propName","__propAttributeMap","createElement","propAttributeMap","properties","propConfig","attrName","HTMLElement","viewOptions","extensionType","filter","autocomplete","values","autocompleteInstance","destroy","FLUIGC","highlight","minLength","maxTags","hint","searchTimeout","$","tagClass","displayKey","templates","tag","suggestion","source","substringMatcher","err","errMessage","JSON","responseText","toast","on","itemAdded","console","log","dispatchEvent","CustomEvent","item","strs","findMatches","q","matches","substrRegex","RegExp","each","and","comparee","comparator"],"mappings":"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","file":"sebraeleme.resources.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.tinybind = factory());\n}(this, function () { 'use strict';\n\n  var OPTIONS = ['prefix', 'templateDelimiters', 'rootInterface', 'preloadData', 'handler'];\n  var EXTENSIONS = ['binders', 'formatters', 'adapters'];\n\n  var PRIMITIVE = 0;\n  var KEYPATH = 1;\n  var TEXT = 0;\n  var BINDING = 1;\n  var QUOTED_STR = /^'.*'$|^\".*\"$/; // Parser and tokenizer for getting the type and value from a string.\n\n  function parseType(string) {\n    var type = PRIMITIVE;\n    var value = string;\n\n    if (QUOTED_STR.test(string)) {\n      value = string.slice(1, -1);\n    } else if (string === 'true') {\n      value = true;\n    } else if (string === 'false') {\n      value = false;\n    } else if (string === 'null') {\n      value = null;\n    } else if (string === 'undefined') {\n      value = undefined;\n    } else if (!isNaN(string)) {\n      value = Number(string);\n    } else {\n      type = KEYPATH;\n    }\n\n    return {\n      type: type,\n      value: value\n    };\n  } // Template parser and tokenizer for mustache-style text content bindings.\n  // Parses the template and returns a set of tokens, separating static portions\n  // of text from binding declarations.\n\n  function parseTemplate(template, delimiters) {\n    var tokens;\n    var length = template.length;\n    var index = 0;\n    var lastIndex = 0;\n    var open = delimiters[0],\n        close = delimiters[1];\n\n    while (lastIndex < length) {\n      index = template.indexOf(open, lastIndex);\n\n      if (index < 0) {\n        if (tokens) {\n          tokens.push({\n            type: TEXT,\n            value: template.slice(lastIndex)\n          });\n        }\n\n        break;\n      } else {\n        tokens || (tokens = []);\n\n        if (index > 0 && lastIndex < index) {\n          tokens.push({\n            type: TEXT,\n            value: template.slice(lastIndex, index)\n          });\n        }\n\n        lastIndex = index + open.length;\n        index = template.indexOf(close, lastIndex);\n\n        if (index < 0) {\n          var substring = template.slice(lastIndex - close.length);\n          var lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === TEXT) {\n            lastToken.value += substring;\n          } else {\n            tokens.push({\n              type: TEXT,\n              value: substring\n            });\n          }\n\n          break;\n        }\n\n        var value = template.slice(lastIndex, index).trim();\n        tokens.push({\n          type: BINDING,\n          value: value\n        });\n        lastIndex = index + close.length;\n      }\n    }\n\n    return tokens;\n  }\n\n  var tinybind = {\n    // Global binders.\n    binders: {},\n    // Global formatters.\n    formatters: {},\n    // Global sightglass adapters.\n    adapters: {},\n    // Default attribute prefix.\n    _prefix: 'rv',\n    _fullPrefix: 'rv-',\n\n    get prefix() {\n      return this._prefix;\n    },\n\n    set prefix(value) {\n      this._prefix = value;\n      this._fullPrefix = value + '-';\n    },\n\n    parseTemplate: parseTemplate,\n    parseType: parseType,\n    // Default template delimiters.\n    templateDelimiters: ['{', '}'],\n    // Default sightglass root interface.\n    rootInterface: '.',\n    // Preload data by default.\n    preloadData: true,\n    // Default event handler.\n    handler: function handler(context, ev, binding) {\n      this.call(context, ev, binding.view.models);\n    },\n    // Sets the attribute on the element. If no binder above is matched it will fall\n    // back to using this binder.\n    fallbackBinder: function fallbackBinder(el, value) {\n      if (value != null) {\n        el.setAttribute(this.type, value);\n      } else {\n        el.removeAttribute(this.type);\n      }\n    },\n    // Merges an object literal into the corresponding global options.\n    configure: function configure(options) {\n      var _this = this;\n\n      if (!options) {\n        return;\n      }\n\n      Object.keys(options).forEach(function (option) {\n        var value = options[option];\n\n        if (EXTENSIONS.indexOf(option) > -1) {\n          Object.keys(value).forEach(function (key) {\n            _this[option][key] = value[key];\n          });\n        } else {\n          _this[option] = value;\n        }\n      });\n    }\n  };\n\n  // Check if a value is an object than can be observed.\n  function isObject(obj) {\n    return typeof obj === 'object' && obj !== null;\n  } // Error thrower.\n\n\n  function error(message) {\n    throw new Error(\"[Observer] \" + message);\n  }\n\n  var adapters;\n  var interfaces;\n  var rootInterface; // Constructs a new keypath observer and kicks things off.\n\n  var Observer =\n  /*#__PURE__*/\n  function () {\n    Observer.updateOptions = function updateOptions(options) {\n      adapters = options.adapters;\n      interfaces = Object.keys(adapters);\n      rootInterface = options.rootInterface;\n    } // Tokenizes the provided keypath string into interface + path tokens for the\n    // observer to work with.\n    ;\n\n    Observer.tokenize = function tokenize(keypath, root) {\n      var tokens = [];\n      var current = {\n        i: root,\n        path: ''\n      };\n      var index;\n      var chr;\n\n      for (index = 0; index < keypath.length; index++) {\n        chr = keypath.charAt(index);\n\n        if (!!~interfaces.indexOf(chr)) {\n          tokens.push(current);\n          current = {\n            i: chr,\n            path: ''\n          };\n        } else {\n          current.path += chr;\n        }\n      }\n\n      tokens.push(current);\n      return tokens;\n    };\n\n    function Observer(obj, keypath, callback) {\n      this.keypath = keypath;\n      this.callback = callback;\n      this.objectPath = [];\n      this.parse();\n      this.obj = this.getRootObject(obj);\n\n      if (isObject(this.target = this.realize())) {\n        this.set(true, this.key, this.target, this.callback);\n      }\n    } // Parses the keypath using the interfaces defined on the view. Sets variables\n    // for the tokenized keypath as well as the end key.\n\n\n    var _proto = Observer.prototype;\n\n    _proto.parse = function parse() {\n      var path;\n      var root;\n\n      if (!interfaces.length) {\n        error('Must define at least one adapter interface.');\n      }\n\n      if (!!~interfaces.indexOf(this.keypath[0])) {\n        root = this.keypath[0];\n        path = this.keypath.substr(1);\n      } else {\n        root = rootInterface;\n        path = this.keypath;\n      }\n\n      this.tokens = Observer.tokenize(path, root);\n      this.key = this.tokens.pop();\n    } // Realizes the full keypath, attaching observers for every key and correcting\n    // old observers to any changed objects in the keypath.\n    ;\n\n    _proto.realize = function realize() {\n      var current = this.obj;\n      var unreached = -1;\n      var prev;\n      var token;\n\n      for (var index = 0; index < this.tokens.length; index++) {\n        token = this.tokens[index];\n\n        if (isObject(current)) {\n          if (typeof this.objectPath[index] !== 'undefined') {\n            if (current !== (prev = this.objectPath[index])) {\n              this.set(false, token, prev, this);\n              this.set(true, token, current, this);\n              this.objectPath[index] = current;\n            }\n          } else {\n            this.set(true, token, current, this);\n            this.objectPath[index] = current;\n          }\n\n          current = this.get(token, current);\n        } else {\n          if (unreached === -1) {\n            unreached = index;\n          }\n\n          if (prev = this.objectPath[index]) {\n            this.set(false, token, prev, this);\n          }\n        }\n      }\n\n      if (unreached !== -1) {\n        this.objectPath.splice(unreached);\n      }\n\n      return current;\n    } // Updates the keypath. This is called when any intermediary key is changed.\n    ;\n\n    _proto.sync = function sync() {\n      var next;\n      var oldValue;\n      var newValue;\n\n      if ((next = this.realize()) !== this.target) {\n        if (isObject(this.target)) {\n          this.set(false, this.key, this.target, this.callback);\n        }\n\n        if (isObject(next)) {\n          this.set(true, this.key, next, this.callback);\n        }\n\n        oldValue = this.value();\n        this.target = next;\n        newValue = this.value();\n        if (newValue !== oldValue || newValue instanceof Function) this.callback.sync();\n      } else if (next instanceof Array) {\n        this.callback.sync();\n      }\n    } // Reads the current end value of the observed keypath. Returns undefined if\n    // the full keypath is unreachable.\n    ;\n\n    _proto.value = function value() {\n      if (isObject(this.target)) {\n        return this.get(this.key, this.target);\n      }\n    } // Sets the current end value of the observed keypath. Calling setValue when\n    // the full keypath is unreachable is a no-op.\n    ;\n\n    _proto.setValue = function setValue(value) {\n      if (isObject(this.target)) {\n        adapters[this.key.i].set(this.target, this.key.path, value);\n      }\n    } // Gets the provided key on an object.\n    ;\n\n    _proto.get = function get(key, obj) {\n      return adapters[key.i].get(obj, key.path);\n    } // Observes or unobserves a callback on the object using the provided key.\n    ;\n\n    _proto.set = function set(active, key, obj, callback) {\n      var action = active ? 'observe' : 'unobserve';\n      adapters[key.i][action](obj, key.path, callback);\n    } // Unobserves the entire keypath.\n    ;\n\n    _proto.unobserve = function unobserve() {\n      var obj;\n      var token;\n\n      for (var index = 0; index < this.tokens.length; index++) {\n        token = this.tokens[index];\n\n        if (obj = this.objectPath[index]) {\n          this.set(false, token, obj, this);\n        }\n      }\n\n      if (isObject(this.target)) {\n        this.set(false, this.key, this.target, this.callback);\n      }\n    } // traverse the scope chain to find the scope which has the root property\n    // if the property is not found in chain, returns the root scope\n    ;\n\n    _proto.getRootObject = function getRootObject(obj) {\n      var rootProp;\n      var current;\n\n      if (!obj.$parent) {\n        return obj;\n      }\n\n      if (this.tokens.length) {\n        rootProp = this.tokens[0].path;\n      } else {\n        rootProp = this.key.path;\n      }\n\n      current = obj;\n\n      while (current.$parent && current[rootProp] === undefined) {\n        current = current.$parent;\n      }\n\n      return current;\n    };\n\n    return Observer;\n  }();\n\n  function getInputValue(el) {\n    if (el.type === 'checkbox') {\n      return el.checked;\n    } else if (el.type === 'select-multiple') {\n      var results = [];\n      var option;\n\n      for (var i = 0; i < el.options.length; i++) {\n        option = el.options[i];\n\n        if (option.selected) {\n          results.push(option.value);\n        }\n      }\n\n      return results;\n    } else {\n      return el.value;\n    }\n  }\n\n  var FORMATTER_ARGS = /[^\\s']+|'([^']|'[^\\s])*'|\"([^\"]|\"[^\\s])*\"/g;\n  var FORMATTER_SPLIT = /\\s+/; // A single binding between a model attribute and a DOM element.\n\n  var Binding =\n  /*#__PURE__*/\n  function () {\n    // All information about the binding is passed into the constructor; the\n    // containing view, the DOM node, the type of binding, the model object and the\n    // keypath at which to listen for changes.\n    function Binding(view, el, type, keypath, binder, arg, formatters) {\n      this.view = view;\n      this.el = el;\n      this.type = type;\n      this.keypath = keypath;\n      this.binder = binder;\n      this.arg = arg;\n      this.formatters = formatters;\n      this.formatterObservers = {};\n      this.model = undefined;\n    } // Observes the object keypath\n\n\n    var _proto = Binding.prototype;\n\n    _proto.observe = function observe(obj, keypath) {\n      return new Observer(obj, keypath, this);\n    };\n\n    _proto.parseTarget = function parseTarget() {\n      if (this.keypath) {\n        var token = parseType(this.keypath);\n\n        if (token.type === 0) {\n          this.value = token.value;\n        } else {\n          this.observer = this.observe(this.view.models, this.keypath);\n          this.model = this.observer.target;\n        }\n      } else {\n        this.value = undefined;\n      }\n    };\n\n    _proto.parseFormatterArguments = function parseFormatterArguments(args, formatterIndex) {\n      var _this = this;\n\n      return args.map(parseType).map(function (_ref, ai) {\n        var type = _ref.type,\n            value = _ref.value;\n\n        if (type === 0) {\n          return value;\n        } else {\n          if (!_this.formatterObservers[formatterIndex]) {\n            _this.formatterObservers[formatterIndex] = {};\n          }\n\n          var observer = _this.formatterObservers[formatterIndex][ai];\n\n          if (!observer) {\n            observer = _this.observe(_this.view.models, value);\n            _this.formatterObservers[formatterIndex][ai] = observer;\n          }\n\n          return observer.value();\n        }\n      });\n    } // Applies all the current formatters to the supplied value and returns the\n    // formatted value.\n    ;\n\n    _proto.formattedValue = function formattedValue(value) {\n      var _this2 = this;\n\n      return this.formatters.reduce(function (result, declaration, index) {\n        var args = declaration.match(FORMATTER_ARGS);\n        var id = args.shift();\n        var formatter = _this2.view.options.formatters[id];\n\n        var processedArgs = _this2.parseFormatterArguments(args, index);\n\n        if (formatter && formatter.read instanceof Function) {\n          result = formatter.read.apply(formatter, [result].concat(processedArgs));\n        } else if (formatter instanceof Function) {\n          result = formatter.apply(void 0, [result].concat(processedArgs));\n        }\n\n        return result;\n      }, value);\n    } // Returns an event handler for the binding around the supplied function.\n    ;\n\n    _proto.eventHandler = function eventHandler(fn) {\n      var binding = this;\n      var handler = binding.view.options.handler;\n      return function (ev) {\n        handler.call(fn, this, ev, binding);\n      };\n    } // Sets the value for the binding. This Basically just runs the binding routine\n    // with the supplied value formatted.\n    ;\n\n    _proto.set = function set(value) {\n      if (value instanceof Function && !this.binder.function) {\n        value = this.formattedValue(value.call(this.model));\n      } else {\n        value = this.formattedValue(value);\n      }\n\n      var routineFn = this.binder.routine || this.binder;\n\n      if (routineFn instanceof Function) {\n        routineFn.call(this, this.el, value);\n      }\n    } // Syncs up the view binding with the model.\n    ;\n\n    _proto.sync = function sync() {\n      if (this.observer) {\n        this.model = this.observer.target;\n        this.set(this.observer.value());\n      } else {\n        this.set(this.value);\n      }\n    } // Publishes the value currently set on the input element back to the model.\n    ;\n\n    _proto.publish = function publish() {\n      var _this3 = this;\n\n      if (this.observer) {\n        var value = this.formatters.reduceRight(function (result, declaration, index) {\n          var args = declaration.split(FORMATTER_SPLIT);\n          var id = args.shift();\n          var formatter = _this3.view.options.formatters[id];\n\n          var processedArgs = _this3.parseFormatterArguments(args, index);\n\n          if (formatter && formatter.publish) {\n            result = formatter.publish.apply(formatter, [result].concat(processedArgs));\n          }\n\n          return result;\n        }, this.getValue(this.el));\n        this.observer.setValue(value);\n      }\n    } // Subscribes to the model for changes at the specified keypath. Bi-directional\n    // routines will also listen for changes on the element to propagate them back\n    // to the model.\n    ;\n\n    _proto.bind = function bind() {\n      this.parseTarget();\n\n      if (this.binder.hasOwnProperty('bind')) {\n        this.binder.bind.call(this, this.el);\n      }\n\n      if (this.view.options.preloadData) {\n        this.sync();\n      }\n    } // Unsubscribes from the model and the element.\n    ;\n\n    _proto.unbind = function unbind() {\n      var _this4 = this;\n\n      if (this.binder.unbind) {\n        this.binder.unbind.call(this, this.el);\n      }\n\n      if (this.observer) {\n        this.observer.unobserve();\n      }\n\n      Object.keys(this.formatterObservers).forEach(function (fi) {\n        var args = _this4.formatterObservers[fi];\n        Object.keys(args).forEach(function (ai) {\n          args[ai].unobserve();\n        });\n      });\n      this.formatterObservers = {};\n    } // Updates the binding's model from what is currently set on the view. Unbinds\n    // the old model first and then re-binds with the new model.\n    ;\n\n    _proto.update = function update(models) {\n      if (models === void 0) {\n        models = {};\n      }\n\n      if (this.observer) {\n        this.model = this.observer.target;\n      }\n\n      if (this.binder.update) {\n        this.binder.update.call(this, models);\n      }\n    } // Returns elements value\n    ;\n\n    _proto.getValue = function getValue(el) {\n      if (this.binder && this.binder.getValue) {\n        return this.binder.getValue.call(this, el);\n      } else {\n        return getInputValue(el);\n      }\n    };\n\n    return Binding;\n  }();\n\n  var textBinder = {\n    routine: function routine(node, value) {\n      node.data = value != null ? value : '';\n    }\n  };\n  var DECLARATION_SPLIT = /((?:'[^']*')*(?:(?:[^\\|']*(?:'[^']*')+[^\\|']*)+|[^\\|]+))|^$/g;\n\n  var parseNode = function parseNode(view, node) {\n    var block = false;\n\n    if (node.nodeType === 3) {\n      var tokens = parseTemplate(node.data, tinybind.templateDelimiters);\n\n      if (tokens) {\n        for (var i = 0; i < tokens.length; i++) {\n          var token = tokens[i];\n          var text = document.createTextNode(token.value);\n          node.parentNode.insertBefore(text, node);\n\n          if (token.type === 1) {\n            view.buildBinding(text, null, token.value, textBinder, null);\n          }\n        }\n\n        node.parentNode.removeChild(node);\n      }\n\n      block = true;\n    } else if (node.nodeType === 1) {\n      block = view.traverse(node);\n    }\n\n    if (!block) {\n      for (var _i = 0; _i < node.childNodes.length; _i++) {\n        parseNode(view, node.childNodes[_i]);\n      }\n    }\n  };\n\n  var bindingComparator = function bindingComparator(a, b) {\n    var aPriority = a.binder ? a.binder.priority || 0 : 0;\n    var bPriority = b.binder ? b.binder.priority || 0 : 0;\n    return bPriority - aPriority;\n  };\n\n  var trimStr = function trimStr(str) {\n    return str.trim();\n  }; // A collection of bindings built from a set of parent nodes.\n\n\n  var View =\n  /*#__PURE__*/\n  function () {\n    // The DOM elements and the model objects for binding are passed into the\n    // constructor along with any local options that should be used throughout the\n    // context of the view and it's bindings.\n    function View(els, models, options) {\n      if (els.jquery || els instanceof Array) {\n        this.els = els;\n      } else {\n        this.els = [els];\n      }\n\n      this.models = models;\n      this.options = options;\n      this.build();\n    }\n\n    var _proto = View.prototype;\n\n    _proto.buildBinding = function buildBinding(node, type, declaration, binder, arg) {\n      var pipes = declaration.match(DECLARATION_SPLIT).map(trimStr);\n      var keypath = pipes.shift();\n      this.bindings.push(new Binding(this, node, type, keypath, binder, arg, pipes));\n    } // Parses the DOM tree and builds `Binding` instances for every matched\n    // binding declaration.\n    ;\n\n    _proto.build = function build() {\n      this.bindings = [];\n      var elements = this.els,\n          i,\n          len;\n\n      for (i = 0, len = elements.length; i < len; i++) {\n        parseNode(this, elements[i]);\n      }\n\n      this.bindings.sort(bindingComparator);\n    };\n\n    _proto.traverse = function traverse(node) {\n      var bindingPrefix = tinybind._fullPrefix;\n      var block = node.nodeName === 'SCRIPT' || node.nodeName === 'STYLE';\n      var attributes = node.attributes;\n      var bindInfos = [];\n      var starBinders = this.options.starBinders;\n      var type, binder, identifier, arg;\n\n      for (var i = 0, len = attributes.length; i < len; i++) {\n        var attribute = attributes[i];\n\n        if (attribute.name.indexOf(bindingPrefix) === 0) {\n          type = attribute.name.slice(bindingPrefix.length);\n          binder = this.options.binders[type];\n          arg = undefined;\n\n          if (!binder) {\n            for (var k = 0; k < starBinders.length; k++) {\n              identifier = starBinders[k];\n\n              if (type.slice(0, identifier.length - 1) === identifier.slice(0, -1)) {\n                binder = this.options.binders[identifier];\n                arg = type.slice(identifier.length - 1);\n                break;\n              }\n            }\n          }\n\n          if (!binder) {\n            binder = tinybind.fallbackBinder;\n          }\n\n          if (binder.block) {\n            this.buildBinding(node, type, attribute.value, binder, arg);\n            node.removeAttribute(attribute.name);\n            return true;\n          }\n\n          bindInfos.push({\n            attr: attribute,\n            binder: binder,\n            type: type,\n            arg: arg\n          });\n        }\n      }\n\n      for (var _i2 = 0; _i2 < bindInfos.length; _i2++) {\n        var bindInfo = bindInfos[_i2];\n        this.buildBinding(node, bindInfo.type, bindInfo.attr.value, bindInfo.binder, bindInfo.arg);\n        node.removeAttribute(bindInfo.attr.name);\n      }\n\n      return block;\n    } // Binds all of the current bindings for this view.\n    ;\n\n    _proto.bind = function bind() {\n      this.bindings.forEach(function (binding) {\n        binding.bind();\n      });\n    } // Unbinds all of the current bindings for this view.\n    ;\n\n    _proto.unbind = function unbind() {\n      this.bindings.forEach(function (binding) {\n        binding.unbind();\n      });\n    } // Syncs up the view with the model by running the routines on all bindings.\n    ;\n\n    _proto.sync = function sync() {\n      this.bindings.forEach(function (binding) {\n        binding.sync();\n      });\n    } // Publishes the input values from the view back to the model (reverse sync).\n    ;\n\n    _proto.publish = function publish() {\n      this.bindings.forEach(function (binding) {\n        if (binding.binder && binding.binder.publishes) {\n          binding.publish();\n        }\n      });\n    } // Updates the view's models along with any affected bindings.\n    ;\n\n    _proto.update = function update(models) {\n      var _this = this;\n\n      if (models === void 0) {\n        models = {};\n      }\n\n      Object.keys(models).forEach(function (key) {\n        _this.models[key] = models[key];\n      });\n      this.bindings.forEach(function (binding) {\n        if (binding.update) {\n          binding.update(models);\n        }\n      });\n    };\n\n    return View;\n  }();\n\n  // The default `.` adapter that comes with tinybind.js. Allows subscribing to\n  // properties on plain objects, implemented in ES5 natives using\n  // `Object.defineProperty`.\n  var ARRAY_METHODS = ['push', 'pop', 'shift', 'unshift', 'sort', 'reverse', 'splice'];\n  var adapter = {\n    counter: 0,\n    weakmap: {},\n    weakReference: function weakReference(obj) {\n      if (!obj.hasOwnProperty('__rv')) {\n        var id = this.counter++;\n        Object.defineProperty(obj, '__rv', {\n          value: id\n        });\n      }\n\n      if (!this.weakmap[obj.__rv]) {\n        this.weakmap[obj.__rv] = {\n          callbacks: {}\n        };\n      }\n\n      return this.weakmap[obj.__rv];\n    },\n    cleanupWeakReference: function cleanupWeakReference(data, refId) {\n      if (!Object.keys(data.callbacks).length) {\n        if (!(data.pointers && Object.keys(data.pointers).length)) {\n          delete this.weakmap[refId];\n        }\n      }\n    },\n    stubFunction: function stubFunction(obj, fn) {\n      var original = obj[fn];\n      var data = this.weakReference(obj);\n      var weakmap = this.weakmap;\n\n      obj[fn] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var response = original.apply(obj, args);\n        Object.keys(data.pointers).forEach(function (refId) {\n          var k = data.pointers[refId];\n\n          if (weakmap[refId]) {\n            if (weakmap[refId].callbacks[k] instanceof Array) {\n              weakmap[refId].callbacks[k].forEach(function (callback) {\n                callback.sync();\n              });\n            }\n          }\n        });\n        return response;\n      };\n    },\n    observeArray: function observeArray(value, refId, keypath) {\n      var _this = this;\n\n      if (value instanceof Array) {\n        var data = this.weakReference(value);\n\n        if (!data.pointers) {\n          data.pointers = {};\n          ARRAY_METHODS.forEach(function (fn) {\n            _this.stubFunction(value, fn);\n          });\n        }\n\n        if (!data.pointers[refId]) {\n          data.pointers[refId] = [];\n        }\n\n        if (data.pointers[refId].indexOf(keypath) === -1) {\n          data.pointers[refId].push(keypath);\n        }\n      }\n    },\n    unobserveArray: function unobserveArray(value, refId, keypath) {\n      if (value instanceof Array && value.__rv != null) {\n        var data = this.weakmap[value.__rv];\n\n        if (data) {\n          var pointers = data.pointers[refId];\n\n          if (pointers) {\n            var idx = pointers.indexOf(keypath);\n\n            if (idx > -1) {\n              pointers.splice(idx, 1);\n            }\n\n            if (!pointers.length) {\n              delete data.pointers[refId];\n            }\n\n            this.cleanupWeakReference(data, value.__rv);\n          }\n        }\n      }\n    },\n    observe: function observe(obj, keypath, callback) {\n      var _this2 = this;\n\n      var value;\n      var callbacks = this.weakReference(obj).callbacks;\n\n      if (!callbacks[keypath]) {\n        callbacks[keypath] = [];\n        var desc = Object.getOwnPropertyDescriptor(obj, keypath);\n\n        if (!desc || !(desc.get || desc.set || !desc.configurable)) {\n          value = obj[keypath];\n          Object.defineProperty(obj, keypath, {\n            enumerable: true,\n            get: function get() {\n              return value;\n            },\n            set: function set(newValue) {\n              if (newValue !== value) {\n                _this2.unobserveArray(value, obj.__rv, keypath);\n\n                value = newValue;\n                var data = _this2.weakmap[obj.__rv];\n\n                if (data) {\n                  var _callbacks = data.callbacks[keypath];\n\n                  if (_callbacks) {\n                    _callbacks.forEach(function (cb) {\n                      cb.sync();\n                    });\n                  }\n\n                  _this2.observeArray(newValue, obj.__rv, keypath);\n                }\n              }\n            }\n          });\n        }\n      }\n\n      if (callbacks[keypath].indexOf(callback) === -1) {\n        callbacks[keypath].push(callback);\n      }\n\n      this.observeArray(obj[keypath], obj.__rv, keypath);\n    },\n    unobserve: function unobserve(obj, keypath, callback) {\n      var data = this.weakmap[obj.__rv];\n\n      if (data) {\n        var callbacks = data.callbacks[keypath];\n\n        if (callbacks) {\n          var idx = callbacks.indexOf(callback);\n\n          if (idx > -1) {\n            callbacks.splice(idx, 1);\n\n            if (!callbacks.length) {\n              delete data.callbacks[keypath];\n              this.unobserveArray(obj[keypath], obj.__rv, keypath);\n            }\n          }\n\n          this.cleanupWeakReference(data, obj.__rv);\n        }\n      }\n    },\n    get: function get(obj, keypath) {\n      return obj[keypath];\n    },\n    set: function set(obj, keypath, value) {\n      obj[keypath] = value;\n    }\n  };\n\n  var getString = function getString(value) {\n    return value != null ? value.toString() : undefined;\n  };\n\n  var times = function times(n, cb) {\n    for (var i = 0; i < n; i++) {\n      cb();\n    }\n  };\n\n  function createView(binding, data, anchorEl) {\n    var template = binding.el.cloneNode(true);\n    var view = new View(template, data, binding.view.options);\n    view.bind();\n    binding.marker.parentNode.insertBefore(template, anchorEl);\n    return view;\n  }\n\n  var binders = {\n    // Binds an event handler on the element.\n    'on-*': {\n      function: true,\n      priority: 1000,\n      unbind: function unbind(el) {\n        if (this.handler) {\n          el.removeEventListener(this.arg, this.handler);\n        }\n      },\n      routine: function routine(el, value) {\n        if (this.handler) {\n          el.removeEventListener(this.arg, this.handler);\n        }\n\n        this.handler = this.eventHandler(value);\n        el.addEventListener(this.arg, this.handler);\n      }\n    },\n    // Appends bound instances of the element in place for each item in the array.\n    'each-*': {\n      block: true,\n      priority: 4000,\n      bind: function bind(el) {\n        if (!this.marker) {\n          this.marker = document.createComment(\" tinybind: \" + this.type + \" \");\n          this.iterated = [];\n          el.parentNode.insertBefore(this.marker, el);\n          el.parentNode.removeChild(el);\n        } else {\n          this.iterated.forEach(function (view) {\n            view.bind();\n          });\n        }\n      },\n      unbind: function unbind(el) {\n        if (this.iterated) {\n          this.iterated.forEach(function (view) {\n            view.unbind();\n          });\n        }\n      },\n      routine: function routine(el, collection) {\n        var _this = this;\n\n        var modelName = this.arg;\n        collection = collection || [];\n        var indexProp = el.getAttribute('index-property') || '$index';\n        collection.forEach(function (model, index) {\n          var data = {\n            $parent: _this.view.models\n          };\n          data[indexProp] = index;\n          data[modelName] = model;\n          var view = _this.iterated[index];\n\n          if (!view) {\n            var previous = _this.marker;\n\n            if (_this.iterated.length) {\n              previous = _this.iterated[_this.iterated.length - 1].els[0];\n            }\n\n            view = createView(_this, data, previous.nextSibling);\n\n            _this.iterated.push(view);\n          } else {\n            if (view.models[modelName] !== model) {\n              // search for a view that matches the model\n              var matchIndex, nextView;\n\n              for (var nextIndex = index + 1; nextIndex < _this.iterated.length; nextIndex++) {\n                nextView = _this.iterated[nextIndex];\n\n                if (nextView.models[modelName] === model) {\n                  matchIndex = nextIndex;\n                  break;\n                }\n              }\n\n              if (matchIndex !== undefined) {\n                // model is in other position\n                // todo: consider avoiding the splice here by setting a flag\n                // profile performance before implementing such change\n                _this.iterated.splice(matchIndex, 1);\n\n                _this.marker.parentNode.insertBefore(nextView.els[0], view.els[0]);\n\n                nextView.models[indexProp] = index;\n              } else {\n                //new model\n                nextView = createView(_this, data, view.els[0]);\n              }\n\n              _this.iterated.splice(index, 0, nextView);\n            } else {\n              view.models[indexProp] = index;\n            }\n          }\n        });\n\n        if (this.iterated.length > collection.length) {\n          times(this.iterated.length - collection.length, function () {\n            var view = _this.iterated.pop();\n\n            view.unbind();\n\n            _this.marker.parentNode.removeChild(view.els[0]);\n          });\n        }\n\n        if (el.nodeName === 'OPTION') {\n          this.view.bindings.forEach(function (binding) {\n            if (binding.el === _this.marker.parentNode && binding.type === 'value') {\n              binding.sync();\n            }\n          });\n        }\n      },\n      update: function update(models) {\n        var _this2 = this;\n\n        var data = {}; //todo: add test and fix if necessary\n\n        Object.keys(models).forEach(function (key) {\n          if (key !== _this2.arg) {\n            data[key] = models[key];\n          }\n        });\n        this.iterated.forEach(function (view) {\n          view.update(data);\n        });\n      }\n    },\n    // Adds or removes the class from the element when value is true or false.\n    'class-*': function _class(el, value) {\n      var elClass = \" \" + el.className + \" \";\n\n      if (!value === elClass.indexOf(\" \" + this.arg + \" \") > -1) {\n        if (value) {\n          el.className = el.className + \" \" + this.arg;\n        } else {\n          el.className = elClass.replace(\" \" + this.arg + \" \", ' ').trim();\n        }\n      }\n    },\n    // Sets the element's text value.\n    text: function text(el, value) {\n      el.textContent = value != null ? value : '';\n    },\n    // Sets the element's HTML content.\n    html: function html(el, value) {\n      el.innerHTML = value != null ? value : '';\n    },\n    // Shows the element when value is true.\n    show: function show(el, value) {\n      el.style.display = value ? '' : 'none';\n    },\n    // Hides the element when value is true (negated version of `show` binder).\n    hide: function hide(el, value) {\n      el.style.display = value ? 'none' : '';\n    },\n    // Enables the element when value is true.\n    enabled: function enabled(el, value) {\n      el.disabled = !value;\n    },\n    // Disables the element when value is true (negated version of `enabled` binder).\n    disabled: function disabled(el, value) {\n      el.disabled = !!value;\n    },\n    // Checks a checkbox or radio input when the value is true. Also sets the model\n    // property when the input is checked or unchecked (two-way binder).\n    checked: {\n      publishes: true,\n      priority: 2000,\n      bind: function bind(el) {\n        var self = this;\n\n        if (!this.callback) {\n          this.callback = function () {\n            self.publish();\n          };\n        }\n\n        el.addEventListener('change', this.callback);\n      },\n      unbind: function unbind(el) {\n        el.removeEventListener('change', this.callback);\n      },\n      routine: function routine(el, value) {\n        if (el.type === 'radio') {\n          el.checked = getString(el.value) === getString(value);\n        } else {\n          el.checked = !!value;\n        }\n      }\n    },\n    // Sets the element's value. Also sets the model property when the input changes\n    // (two-way binder).\n    value: {\n      publishes: true,\n      priority: 3000,\n      bind: function bind(el) {\n        this.isRadio = el.tagName === 'INPUT' && el.type === 'radio';\n\n        if (!this.isRadio) {\n          this.event = el.getAttribute('event-name') || (el.tagName === 'SELECT' ? 'change' : 'input');\n          var self = this;\n\n          if (!this.callback) {\n            this.callback = function () {\n              self.publish();\n            };\n          }\n\n          el.addEventListener(this.event, this.callback);\n        }\n      },\n      unbind: function unbind(el) {\n        if (!this.isRadio) {\n          el.removeEventListener(this.event, this.callback);\n        }\n      },\n      routine: function routine(el, value) {\n        if (this.isRadio) {\n          el.setAttribute('value', value);\n        } else {\n          if (el.type === 'select-multiple') {\n            if (value instanceof Array) {\n              for (var i = 0; i < el.length; i++) {\n                var option = el[i];\n                option.selected = value.indexOf(option.value) > -1;\n              }\n            }\n          } else if (getString(value) !== getString(el.value)) {\n            el.value = value != null ? value : '';\n          }\n        }\n      }\n    },\n    // Inserts and binds the element and it's child nodes into the DOM when true.\n    if: {\n      block: true,\n      priority: 4000,\n      bind: function bind(el) {\n        if (!this.marker) {\n          this.marker = document.createComment(' tinybind: ' + this.type + ' ' + this.keypath + ' ');\n          this.attached = false;\n          el.parentNode.insertBefore(this.marker, el);\n          el.parentNode.removeChild(el);\n        } else if (this.bound === false && this.nested) {\n          this.nested.bind();\n        }\n\n        this.bound = true;\n      },\n      unbind: function unbind() {\n        if (this.nested) {\n          this.nested.unbind();\n          this.bound = false;\n        }\n      },\n      routine: function routine(el, value) {\n        if (!!value !== this.attached) {\n          if (value) {\n            if (!this.nested) {\n              this.nested = new View(el, this.view.models, this.view.options);\n              this.nested.bind();\n            }\n\n            this.marker.parentNode.insertBefore(el, this.marker.nextSibling);\n            this.attached = true;\n          } else {\n            el.parentNode.removeChild(el);\n            this.attached = false;\n          }\n        }\n      },\n      update: function update(models) {\n        if (this.nested) {\n          this.nested.update(models);\n        }\n      }\n    }\n  };\n\n  var formatters = {\n    watch: function watch(value) {\n      return value;\n    },\n    not: function not(value) {\n      return !value;\n    },\n    negate: function negate(value) {\n      return !value;\n    }\n  };\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== \"function\") {\n        throw new TypeError(\"Super expression must either be null or a function\");\n      }\n\n      if (typeof _cache !== \"undefined\") {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  var Component =\n  /*#__PURE__*/\n  function (_HTMLElement) {\n    _inheritsLoose(Component, _HTMLElement);\n\n    function Component() {\n      return _HTMLElement.apply(this, arguments) || this;\n    }\n\n    var _proto = Component.prototype;\n\n    _proto.connectedCallback = function connectedCallback() {\n      var nodes = this.constructor.__templateEl.content.cloneNode(true);\n\n      this.__tinybindView = tinybind.bind(nodes, this);\n\n      while (this.firstChild) {\n        this.removeChild(this.firstChild);\n      }\n\n      this.appendChild(nodes);\n    };\n\n    _proto.disconnectedCallback = function disconnectedCallback() {\n      this.__tinybindView.unbind();\n    };\n\n    _proto.attributeChangedCallback = function attributeChangedCallback(name, old, value) {\n      if (old !== value) {\n        var propName = this.constructor.__propAttributeMap[name];\n        this[propName] = value;\n      }\n    };\n\n    _createClass(Component, null, [{\n      key: \"observedAttributes\",\n      get: function get() {\n        var template = this.template;\n\n        if (!template) {\n          throw new Error(\"No template declared for \" + this.name);\n        }\n\n        this.__templateEl = document.createElement('template');\n        this.__templateEl.innerHTML = template;\n        var propAttributeMap = this.__propAttributeMap = {};\n        var attributes = [];\n        var properties = this.properties;\n\n        if (properties) {\n          Object.keys(properties).forEach(function (propName) {\n            var propConfig = properties[propName];\n            var attrName = typeof propConfig === 'string' ? propConfig : propName;\n            propAttributeMap[attrName] = propName;\n            attributes.push(attrName);\n          });\n        }\n\n        return attributes;\n      }\n    }]);\n\n    return Component;\n  }(_wrapNativeSuper(HTMLElement));\n\n  tinybind.binders = binders;\n  tinybind.formatters = formatters;\n  tinybind.adapters['.'] = adapter;\n  tinybind.Component = Component; // Binds some data to a template / element. Returns a tinybind.View instance.\n\n  tinybind.bind = function (el, models, options) {\n    var viewOptions = {};\n    models = models || {};\n    options = options || {};\n    EXTENSIONS.forEach(function (extensionType) {\n      viewOptions[extensionType] = Object.create(null);\n\n      if (options[extensionType]) {\n        Object.keys(options[extensionType]).forEach(function (key) {\n          viewOptions[extensionType][key] = options[extensionType][key];\n        });\n      }\n\n      Object.keys(tinybind[extensionType]).forEach(function (key) {\n        if (!viewOptions[extensionType][key]) {\n          viewOptions[extensionType][key] = tinybind[extensionType][key];\n        }\n      });\n    });\n    OPTIONS.forEach(function (option) {\n      var value = options[option];\n      viewOptions[option] = value != null ? value : tinybind[option];\n    });\n    viewOptions.starBinders = Object.keys(viewOptions.binders).filter(function (key) {\n      return key.indexOf('*') > 0;\n    });\n    Observer.updateOptions(viewOptions);\n    var view = new View(el, models, viewOptions);\n    view.bind();\n    return view;\n  };\n\n  return tinybind;\n\n}));\n//# sourceMappingURL=tinybind.js.map\n;tinybind.binders.autocomplete = {\n  bind: function (el, values) {\n\n  },\n\n  unbind: function (el) {\n    this.autocompleteInstance.destroy();\n  },\n\n  routine: function (el, values) {\n\n    if (this.autocompleteInstance) { this.autocompleteInstance.destroy(); }\n\n    this.autocompleteInstance = FLUIGC.autocomplete(el, {\n      highlight: true,\n      minLength: 0,\n      maxTags: 1,\n      hint: true,\n      searchTimeout: 100,\n      type: $(el).attr('ac-type') || 'tagAutocomplete',\n      tagClass: $(el).attr('ac-tag-class') || 'tag-info',\n      displayKey: $(el).attr('ac-display-key'),\n      templates: {\n        tag: $(el).attr('ac-tag-template'),\n        suggestion: $(el).attr('ac-tag-template')\n      },\n      source: substringMatcher(values, $(el).attr('ac-display-key')),\n    }, function (err, data) {\n      if (err) {\n        try {\n          errMessage = JSON.parse(err.responseText.message);\n          errMessage = errMessage.message ? err.responseText.message : err.responseText;\n        } catch (e) {\n          errMessage = 'No foi possvel listar os dados';\n        }\n        FLUIGC.toast({\n          message: errMessage,\n          type: 'danger'\n        });\n      }\n    });\n\n    this.autocompleteInstance.on('fluig.autocomplete.itemAdded', this.publish);\n  },\n};\n\nitemAdded = (ev, el) => {\n  console.log(ev, el);\n  this.dispatchEvent(new CustomEvent('itemchanged', { 'item': ev.item }));\n\n  // new CustomEvent('itemchanged', { 'item': el.item })\n};\nsubstringMatcher = (strs, name) => {\n\n  return function findMatches(q, cb) {\n    var matches, substrRegex;\n\n    matches = [];\n\n    substrRegex = new RegExp(q, 'i');\n\n    $.each(strs, function (i, str) {\n      if (substrRegex.test(str[name])) {\n        matches.push(str);\n      }\n    });\n    cb(matches);\n  };\n};\n;tinybind.formatters.and = function (comparee, comparator) {\n  return comparee && comparator;\n};;tinybind.configure({\n\n  // Attribute prefix in templates\n  prefix: 'lm',\n\n  // Preload templates with initial data on bind\n  preloadData: true,\n\n  // Root sightglass interface for keypaths\n  rootInterface: '.',\n\n  // Template delimiters for text bindings\n  templateDelimiters: ['{', '}'],\n\n  // Augment the event handler of the on-* binder\n  handler: function(target, event, binding) {\n    this.call(target, event, binding.view.models);\n  }\n\n});"]}
/*! sebraeleme.resources 17-02-2023 */
"use strict";tinybind.binders.autocomplete={bind:function(a,b){},unbind:function(a){this.autocompleteInstance.destroy()},routine:function(a,b){this.autocompleteInstance&&this.autocompleteInstance.destroy(),this.autocompleteInstance=FLUIGC.autocomplete(a,{highlight:!0,minLength:0,maxTags:1,hint:!0,searchTimeout:100,type:$(a).attr("ac-type")||"tagAutocomplete",tagClass:$(a).attr("ac-tag-class")||"tag-info",displayKey:$(a).attr("ac-display-key"),templates:{tag:$(a).attr("ac-tag-template"),suggestion:$(a).attr("ac-tag-template")},source:substringMatcher(b,$(a).attr("ac-display-key"))},function(a,b){if(a){try{errMessage=JSON.parse(a.responseText.message),errMessage=errMessage.message?a.responseText.message:a.responseText}catch(a){errMessage="Não foi possível listar os dados"}FLUIGC.toast({message:errMessage,type:"danger"})}}),this.autocompleteInstance.on("fluig.autocomplete.itemAdded",this.publish)}},itemAdded=function(a,b){console.log(a,b),(void 0).dispatchEvent(new CustomEvent("itemchanged",{item:a.item}))},substringMatcher=function(a,b){return function(c,d){var e,f;e=[],f=new RegExp(c,"i"),$.each(a,function(a,c){f.test(c[b])&&e.push(c)}),d(e)}},tinybind.formatters.and=function(a,b){return a&&b},tinybind.configure({prefix:"leme",preloadData:!0,rootInterface:".",templateDelimiters:["{","}"],handler:function(a,b,c){this.call(a,b,c.view.models)}});